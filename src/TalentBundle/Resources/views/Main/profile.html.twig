{% extends "base.html.twig" %}

{% block content %}
    {% for user in users %}

    <div class="breadcumb-area bg-img bg-overlay2" style="background-image: url({{ asset('assets/img/bg-img/bg-1.jpg') }});">
        <div class="bradcumbContent">
            <h2> Profil de {{ user.username }}</h2>
        </div>
    </div>
    <!-- bg gradients -->
    <div class="bg-gradients"></div>
    <!-- ##### Breadcumb Area End ##### -->

    <!-- ##### Elements Area Start ##### -->
    <section class="elements-area mt-30 section-padding-100-0 ">
{#        Contenu de la page#}
        <div class="container">
            <div class="row">
{#                Profile picture and basic info#}
                <div class="col-md-4">
                    <img src="{{ asset('assets/img/pics/' ~ user.profilePic) }}" style="width:250px; height: auto;clip-path: circle(120px at center);">
                    <br>
                    <br>
                    <div class="text-primary" style="margin-left: 40px;font-size: large;font-weight: bold;">Nom:  <span class="text-secondary" style="font-size: medium;font-weight: normal">{{ user.Name }}</span></div>
                    <br>
                    <div class="text-primary" style="margin-left: 40px;font-size: large;font-weight: bold">Prénom:  <span class="text-secondary" style="font-size: medium;font-weight: normal">{{ user.firstName }}</span></div>
                    <br>
                    <div class="text-primary" style="margin-left: 40px;font-size: large;font-weight: bold;">Date de naissance:  <span class="text-secondary" style="font-size: medium;font-weight: normal">{{ user.birthday|date("d M Y") }}</span></div>
                    <br>
                    <div class="text-primary" style="margin-left: 40px;font-size: large;font-weight: bold;">Bio: <br> <span class="text-secondary" style="font-size: medium;font-weight: normal">{{ user.bio }}</span></div>
                    <br>
                    <div class="text-primary" style="margin-left: 40px;font-size: large;font-weight: bold;">Abonnés <br> <span class="text-secondary" style="font-size: medium;font-weight: normal">69</span></div>
                    <br>
                    <div class="text-primary" style="margin-left: 40px;font-size: large;font-weight: bold;">Abonnements <br> <span class="text-secondary" style="font-size: medium;font-weight: normal">420</span></div>
                    {% if app.user.username == user.username%}
                    <br>
                    <div style="margin-left: 30px;"><a class="btn musica-btn m-2" href="{{ path('update_profile',{id:app.user.id}) }}">Modifier vos informations</a></div>
                    <br>
                    <div style="margin-left: 30px;"><a class="btn musica-btn m-2" href="{{ path('add_video') }}">Ajouter une video</a></div>
                    {% endif %}

            </div>
{#                Profile feed#}
                <div class="col-md-8">
                    <div>
                        <h1 class="text-primary">Vidéos ajoutés par {{ user.username }}</h1>
                        <br>
                        <br>
                        {% for video in videos %}
                            <h3 class="text-primary">{{ video.title }}</h3>
                            <iframe src="{{ video.url }}" width="854" height="480" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
                            <h2 class="text-secondary" style="margin-left: 600px;">Rating: {{ video.id }} </h2>
                            <br>
                            <br>
                            <br>
                        {% endfor %}
                    </div>
                </div>
        </div>
        </div>
    </section>
    {% endfor %}
{% endblock %}