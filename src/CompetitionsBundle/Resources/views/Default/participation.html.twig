{% extends 'base.html.twig' %}

{% block content %}
    <script src="{{asset('assets/js/jquery/jquery-2.2.4.min.js')}}"></script>
<div class="content">
    <div class="breadcumb-area bg-img bg-overlay2" style="background-image: url({{asset('assets/img/bg-img/breadcumb4.jpg')}}">
        <div class="bradcumbContent">
            <h2>Participation</h2>
        </div>
    </div>
    <div class="upcoming-shows-area section-padding-100">
        <div class="container">
    <div class="row">
        <div class="col"></div>
        <div class="col-12 col-lg-6 ">
            <div class="contact-content mb-100">
                <!-- Contact Form Area -->
                <div class="contact-form-area">
                    <form action="#" method="post">
                        <div class="form-group">
                            <input type="text" class="form-control" id="name" placeholder="Video Title">
                        </div>
                        <div class="form-group">
                            <input type="date" class="form-control" id="email" placeholder="Date">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" id="subject" placeholder="Url">
                        </div>
                        <iframe width="540" height="315"  allowfullscreen frameborder="0"
                                src="{{video.url}}">
                        </iframe>
                        <button class="btn musica-btn mt-30 col" type="submit">Publish Your Video</button>
                    </form>

                </div>
            </div>
        </div>
        <div class="col"></div>
    </div>
</div>
    </div>
</div>
    <script>

        function getId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);

            return (match && match[2].length === 11)
                ? match[2]
                : null;
        }

        $( "#subject" )
            .focusout(function() {

                let str ='//www.youtube.com/embed/'
                    + getId($("#subject").val());

                let $iframe = $('iframe');
                if ( $iframe.length ) {
                    $iframe.attr('src',str);
                    return false;
                }
                return true;

            })


    </script>

{% endblock %}

